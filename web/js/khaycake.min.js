/* KhayCake by TheB1ackSheep, Front-End Developer 2015-04-30 */
$(document).ready(function(){var a=$(".dialog");var b=$(".dialog-content");var c=$(".section-price");var d=d||{params:[],getParam:function(a){return this.params[a]},setParam:function(a,b){this.params[a]=b}};d.onHashChanged=function(){var a=window.location.hash.substr(2);var b=a.split("/")[1];switch(b){case"shop":f.open();break;default:f.close();break}};var e=e||{PARAM_BEGIN_POS:"begin-pos",getDialog:function(){return $(".dialog")},getBeginPos:function(){return d.getParam(this.PARAM_BEGIN_POS)}};e.isOpen=function(){return c.hasClass("open")};e.open=function(){if(!this.isOpen()){c.addClass("open");var d=this.getBeginPos();if(d){var e=d.getBoundingClientRect();var f=d.parentNode.parentNode.parentNode.getBoundingClientRect();a.css({top:e.top-f.top+"px",left:e.left-f.left+"px",backgroundColor:"#3E2733"})}else{a.css({top:"50%",left:"50%",backgroundColor:"#3E2733"})}b.css({opacity:0});a.animate({width:"100%",height:"100%",top:0,left:0,backgroundColor:"#fff"},200,function(){b.animate({opacity:1})})}};e.close=function(){if(this.isOpen()){c.removeClass("open");var d=this.getBeginPos();var e;if(d){var f=d.getBoundingClientRect();var g=d.parentNode.parentNode.parentNode.getBoundingClientRect();e={width:f.width,height:f.height,top:f.top-g.top+"px",left:f.left-g.left+"px",backgroundColor:"#3E2733"}}else{e={width:0,height:0,top:"50%",left:"50%",backgroundColor:"#fff"}}b.animate({opacity:0},100,function(){a.animate({width:e.width,height:e.height,top:e.top,left:e.left,backgroundColor:e.backgroundColor},350,function(){a.css({})})})}};var f=f||{CN_NAV:".dialog .nav",CN_NAV_LIST:".dialog .nav li",getContainer:function(){return'<div class="row">'+'<div class="col-md-2">'+'<ul class="nav nav-pills nav-stacked">'+'<li role="presentation" id="cupcake" class=""><a href="#!/shop/cupcake">Cupcake</a></li>'+'<li role="presentation" id="crapecake" class="active"><a href="#!/shop/crapecake">Crape Cake</a></li>'+'<li role="presentation" id="brownie" class=""><a href="#!/shop/brownie">Brownie</a></li>'+'<li role="presentation" id="partycake"><a href="#!/shop/partycake">Party Cake</a></li>'+"</ul>"+"</div>"+'<div class="col-md-10">'+'<div id="cake-container" class="row">'+"</div>"+"</div>"+"</div>"},getCakeBox:function(a){if(a.cake){return'<div class="col-md-3 col-sm-4 col-xs-6">'+'<div class="box inactive">'+'<div class="box-img">'+'<img src="" alt="">'+"</div>"+'<div class="box-name">'+a.cake.name+"</div>"+'<div class="box-button">'+'<div class="price">'+a.cake.price+" ???/"+a.cake.unit.name+"</div>"+'<button class="cart">Add to Cart</button>'+"</div>"+"</div>"+"</div>"}}};f.open=function(){e.open();f.tab()};f.close=function(){e.close()};f.tab=function(){var a=window.location.hash.substr(2);var b=a.split("/")[2];$(f.CN_NAV_LIST).removeClass("active");$(f.CN_NAV_LIST+"#"+b).addClass("active")};var g=g||{ID_FORM_NAME:"form-login",getForm:function(){return'<form id="'+ID_FORM_NAME+'">'+'<div class="form-group">'+"<label>Username :<label>"+'<input class="form-control" id="email" placholder="ninecake@khaycake.com"/>'+"</div>"+'<div class="form-group">'+"<label>Password :<label>"+'<input class="form-control" id="pwd" type="password"/>'+"</div>"+'<div class="form-group">'+'<button class="btn btn-primary">Login</button>'+"</div>"+"</form>"}};$(window).bind("hashchange",function(){d.onHashChanged()});if(window.location.hash){d.onHashChanged()}$(".cake-box-buy a").click(function(a){d.setParam(e.PARAM_BEGIN_POS,this)})});